(function(b){var w=function(p,x){var g=b.extend({},b.fn.nivoSlider.defaults,x),a={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},k=b(p);k.data("nivo:vars",a).addClass("nivoSlider");var m=k.children();m.each(function(){var c=b(this),e="";c.is("img")||(c.is("a")&&(c.addClass("nivo-imageLink"),e=c),c=c.find("img:first"));c.width();c.height();""!==e&&e.css("display","none");c.css("display","none");a.totalSlides++});g.randomStart&&(g.startSlide=Math.floor(Math.random()*
a.totalSlides));0<g.startSlide&&(g.startSlide>=a.totalSlides&&(g.startSlide=a.totalSlides-1),a.currentSlide=g.startSlide);b(m[a.currentSlide]).is("img")?a.currentImage=b(m[a.currentSlide]):a.currentImage=b(m[a.currentSlide]).find("img:first");b(m[a.currentSlide]).is("a")&&b(m[a.currentSlide]).css("display","block");var q=b("<img/>").addClass("nivo-main-image");q.attr("src",a.currentImage.attr("src")).show();k.append(q);b(window).resize(function(){k.children("img").width(k.width());q.attr("src",a.currentImage.attr("src"));
q.stop().height("auto");b(".nivo-slice").remove();b(".nivo-box").remove()});k.append(b('<div class="nivo-caption"></div>'));var y=function(c){var e=b(".nivo-caption",k);if(""!=a.currentImage.attr("title")&&void 0!=a.currentImage.attr("title")){var d=a.currentImage.attr("title");"#"==d.substr(0,1)&&(d=b(d).html());"block"==e.css("display")?setTimeout(function(){e.html(d)},c.animSpeed):(e.html(d),e.stop().fadeIn(c.animSpeed))}else e.stop().fadeOut(c.animSpeed)};y(g);var n=0;!g.manualAdvance&&1<m.length&&
(n=setInterval(function(){r(k,m,g,!1)},g.pauseTime));g.directionNav&&(k.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+g.prevText+'</a><a class="nivo-nextNav">'+g.nextText+"</a></div>"),b(k).on("click","a.nivo-prevNav",function(){if(a.running)return!1;clearInterval(n);n="";a.currentSlide-=2;r(k,m,g,"prev")}),b(k).on("click","a.nivo-nextNav",function(){if(a.running)return!1;clearInterval(n);n="";r(k,m,g,"next")}));if(g.controlNav){a.controlNavEl=b('<div class="nivo-controlNav"></div>');
k.after(a.controlNavEl);for(var t=0;t<m.length;t++)if(g.controlNavThumbs){a.controlNavEl.addClass("nivo-thumbs-enabled");var v=m.eq(t);v.is("img")||(v=v.find("img:first"));v.attr("data-thumb")&&a.controlNavEl.append('<a class="nivo-control" rel="'+t+'"><img src="'+v.attr("data-thumb")+'" alt="" /></a>')}else a.controlNavEl.append('<a class="nivo-control" rel="'+t+'">'+(t+1)+"</a>");b("a:eq("+a.currentSlide+")",a.controlNavEl).addClass("active");b("a",a.controlNavEl).bind("click",function(){if(a.running||
b(this).hasClass("active"))return!1;clearInterval(n);n="";q.attr("src",a.currentImage.attr("src"));a.currentSlide=b(this).attr("rel")-1;r(k,m,g,"control")})}g.pauseOnHover&&k.hover(function(){a.paused=!0;clearInterval(n);n=""},function(){a.paused=!1;""!==n||g.manualAdvance||(n=setInterval(function(){r(k,m,g,!1)},g.pauseTime))});k.bind("nivo:animFinished",function(){q.attr("src",a.currentImage.attr("src"));a.running=!1;b(m).each(function(){b(this).is("a")&&b(this).css("display","none")});b(m[a.currentSlide]).is("a")&&
b(m[a.currentSlide]).css("display","block");""!==n||a.paused||g.manualAdvance||(n=setInterval(function(){r(k,m,g,!1)},g.pauseTime));g.afterChange.call(this)});var u=function(c,e,d){b(d.currentImage).parent().is("a")&&b(d.currentImage).parent().css("display","block");b('img[src="'+d.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").width(c.width()).css("visibility","hidden").show();for(var a=b('img[src="'+d.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").parent().is("a")?
b('img[src="'+d.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").parent().height():b('img[src="'+d.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").height(),f=0;f<e.slices;f++){var h=Math.round(c.width()/e.slices);f===e.slices-1?c.append(b('<div class="nivo-slice" name="'+f+'"><img src="'+d.currentImage.attr("src")+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block !important; top:0; left:-"+(h+f*h-h)+'px;" /></div>').css({left:h*
f+"px",width:c.width()-h*f+"px",height:a+"px",opacity:"0",overflow:"hidden"})):c.append(b('<div class="nivo-slice" name="'+f+'"><img src="'+d.currentImage.attr("src")+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block !important; top:0; left:-"+(h+f*h-h)+'px;" /></div>').css({left:h*f+"px",width:h+"px",height:a+"px",opacity:"0",overflow:"hidden"}))}b(".nivo-slice",c).height(a);q.stop().animate({height:b(d.currentImage).height()},e.animSpeed)},z=function(c,e,d){b(d.currentImage).parent().is("a")&&
b(d.currentImage).parent().css("display","block");b('img[src="'+d.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").width(c.width()).css("visibility","hidden").show();for(var a=Math.round(c.width()/e.boxCols),f=Math.round(b('img[src="'+d.currentImage.attr("src")+'"]',c).not(".nivo-main-image,.nivo-control img").height()/e.boxRows),h=0;h<e.boxRows;h++)for(var l=0;l<e.boxCols;l++)l===e.boxCols-1?c.append(b('<div class="nivo-box" name="'+l+'" rel="'+h+'"><img src="'+d.currentImage.attr("src")+
'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+f*h+"px; left:-"+a*l+'px;" /></div>').css({opacity:0,left:a*l+"px",top:f*h+"px",width:c.width()-a*l+"px"})):c.append(b('<div class="nivo-box" name="'+l+'" rel="'+h+'"><img src="'+d.currentImage.attr("src")+'" style="position:absolute; width:'+c.width()+"px; height:auto; display:block; top:-"+f*h+"px; left:-"+a*l+'px;" /></div>').css({opacity:0,left:a*l+"px",top:f*h+"px",width:a+"px"})),b('.nivo-box[name="'+l+'"]',
c).height(b('.nivo-box[name="'+l+'"] img',c).height()+"px");q.stop().animate({height:b(d.currentImage).height()},e.animSpeed)},r=function(c,e,d,a){var f=c.data("nivo:vars");f&&f.currentSlide===f.totalSlides-1&&d.lastSlide.call(this);if((!f||f.stop)&&!a)return!1;d.beforeChange.call(this);a?("prev"===a&&q.attr("src",f.currentImage.attr("src")),"next"===a&&q.attr("src",f.currentImage.attr("src"))):q.attr("src",f.currentImage.attr("src"));f.currentSlide++;f.currentSlide===f.totalSlides&&(f.currentSlide=
0,d.slideshowEnd.call(this));0>f.currentSlide&&(f.currentSlide=f.totalSlides-1);b(e[f.currentSlide]).is("img")?f.currentImage=b(e[f.currentSlide]):f.currentImage=b(e[f.currentSlide]).find("img:first");d.controlNav&&(b("a",f.controlNavEl).removeClass("active"),b("a:eq("+f.currentSlide+")",f.controlNavEl).addClass("active"));y(d);b(".nivo-slice",c).remove();b(".nivo-box",c).remove();var h=d.effect;e="";"random"===d.effect&&(e="sliceDownRight sliceDownLeft sliceUpRight sliceUpLeft sliceUpDown sliceUpDownLeft fold fade boxRandom boxRain boxRainReverse boxRainGrow boxRainGrowReverse".split(" "),
h=e[Math.floor(Math.random()*(e.length+1))],void 0===h&&(h="fade"));-1!==d.effect.indexOf(",")&&(e=d.effect.split(","),h=e[Math.floor(Math.random()*e.length)],void 0===h&&(h="fade"));f.currentImage.attr("data-transition")&&(h=f.currentImage.attr("data-transition"));f.running=!0;var l=0,g=0,k=e="",m="";e="";if("sliceDown"===h||"sliceDownRight"===h||"sliceDownLeft"===h)u(c,d,f),g=l=0,e=b(".nivo-slice",c),"sliceDownLeft"===h&&(e=b(".nivo-slice",c)._reverse()),e.each(function(){var a=b(this);a.css({top:"0px"});
g===d.slices-1?setTimeout(function(){a.animate({opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+l):setTimeout(function(){a.animate({opacity:"1.0"},d.animSpeed)},100+l);l+=50;g++});else if("sliceUp"===h||"sliceUpRight"===h||"sliceUpLeft"===h)u(c,d,f),g=l=0,e=b(".nivo-slice",c),"sliceUpLeft"===h&&(e=b(".nivo-slice",c)._reverse()),e.each(function(){var a=b(this);a.css({bottom:"0px"});g===d.slices-1?setTimeout(function(){a.animate({opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},
100+l):setTimeout(function(){a.animate({opacity:"1.0"},d.animSpeed)},100+l);l+=50;g++});else if("sliceUpDown"===h||"sliceUpDownRight"===h||"sliceUpDownLeft"===h){u(c,d,f);var n=g=l=0;e=b(".nivo-slice",c);"sliceUpDownLeft"===h&&(e=b(".nivo-slice",c)._reverse());e.each(function(){var a=b(this);0===g?(a.css("top","0px"),g++):(a.css("bottom","0px"),g=0);n===d.slices-1?setTimeout(function(){a.animate({opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+l):setTimeout(function(){a.animate({opacity:"1.0"},
d.animSpeed)},100+l);l+=50;n++})}else if("fold"===h)u(c,d,f),g=l=0,b(".nivo-slice",c).each(function(){var a=b(this),e=a.width();a.css({top:"0px",width:"0px"});g===d.slices-1?setTimeout(function(){a.animate({width:e,opacity:"1.0"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+l):setTimeout(function(){a.animate({width:e,opacity:"1.0"},d.animSpeed)},100+l);l+=50;g++});else if("fade"===h)u(c,d,f),k=b(".nivo-slice:first",c),k.css({width:c.width()+"px"}),k.animate({opacity:"1.0"},2*d.animSpeed,
"",function(){c.trigger("nivo:animFinished")});else if("slideInRight"===h)u(c,d,f),k=b(".nivo-slice:first",c),k.css({width:"0px",opacity:"1"}),k.animate({width:c.width()+"px"},2*d.animSpeed,"",function(){c.trigger("nivo:animFinished")});else if("slideInLeft"===h)u(c,d,f),k=b(".nivo-slice:first",c),k.css({width:"0px",opacity:"1",left:"",right:"0px"}),k.animate({width:c.width()+"px"},2*d.animSpeed,"",function(){k.css({left:"0px",right:""});c.trigger("nivo:animFinished")});else if("boxRandom"===h)z(c,
d,f),m=d.boxCols*d.boxRows,l=g=0,e=w(b(".nivo-box",c)),e.each(function(){var a=b(this);g===m-1?setTimeout(function(){a.animate({opacity:"1"},d.animSpeed,"",function(){c.trigger("nivo:animFinished")})},100+l):setTimeout(function(){a.animate({opacity:"1"},d.animSpeed)},100+l);l+=20;g++});else if("boxRain"===h||"boxRainReverse"===h||"boxRainGrow"===h||"boxRainGrowReverse"===h){z(c,d,f);m=d.boxCols*d.boxRows;var p=l=g=0,r=0,t=[];t[p]=[];e=b(".nivo-box",c);if("boxRainReverse"===h||"boxRainGrowReverse"===
h)e=b(".nivo-box",c)._reverse();e.each(function(){t[p][r]=b(this);r++;r===d.boxCols&&(p++,r=0,t[p]=[])});for(f=0;f<2*d.boxCols;f++){e=f;for(a=0;a<d.boxRows;a++)0<=e&&e<d.boxCols&&(function(a,e,f,g,l){var k=b(t[a][e]),m=k.width(),n=k.height();"boxRainGrow"!==h&&"boxRainGrowReverse"!==h||k.width(0).height(0);g===l-1?setTimeout(function(){k.animate({opacity:"1",width:m,height:n},d.animSpeed/1.3,"",function(){c.trigger("nivo:animFinished")})},100+f):setTimeout(function(){k.animate({opacity:"1",width:m,
height:n},d.animSpeed/1.3)},100+f)}(a,e,l,g,m),g++),e--;l+=100}}},w=function(a){for(var b,c,g=a.length;g;b=parseInt(Math.random()*g,10),c=a[--g],a[g]=a[b],a[b]=c);return a},A=function(a){this.console&&"undefined"!==typeof console.log&&console.log(a)};this.stop=function(){b(p).data("nivo:vars").stop||(b(p).data("nivo:vars").stop=!0,A("Stop Slider"))};this.start=function(){b(p).data("nivo:vars").stop&&(b(p).data("nivo:vars").stop=!1,A("Start Slider"))};g.afterLoad.call(this);return this};b.fn.nivoSlider=
function(p){return this.each(function(x,g){var a=b(this);if(a.data("nivoslider"))return a.data("nivoslider");var k=new w(this,p);a.data("nivoslider",k)})};b.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3E3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};
b.fn._reverse=[].reverse})(jQuery);